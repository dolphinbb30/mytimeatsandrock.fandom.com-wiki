Reading Mission 1200055: Cover My Glass

<onlyinclude>{{Infobox mission
|name = Cover My Glass
|image =
|description = 
|type = Main
|time =
|location =
|characters = 
|condition =
|details =
|exp = None
|reputation = None
|gols = None
}}</onlyinclude>

==Overview==
Run conditions from parent mission: 1100002

TRIGGER Procedure 1.0 Step 2.0 Order 0 Repeat 1
------------------------------------------------------------
EVENTS
MISSION END || order: 0 | missionId: 1100050 | result: 1
CONDITIONS
Always:
ACTIONS
Run mission #1100043

TRIGGER Procedure 1.0 Step 12.5 Order 1 Repeat 1
------------------------------------------------------------
EVENTS
At the beginning of the day:
CONDITIONS
GROUP 0:
CHECK WEATHER STATE || weather: 2 | flag: 0
Farewell Party is successfully completed

GROUP 10:
Farewell Party has failed
CHECK WEATHER STATE || weather: 2 | flag: 0

ACTIONS
Run mission Cover My Glass
Set global blackboard key robtrainbegian with info 1.
Set global blackboard key openernest1 with info 1.
Set global blackboard key brokentrain with info 1.

==Conduct==

TRIGGER Procedure 0.0 Step 0.0 Order 0 Repeat 1
------------------------------------------------------------
EVENTS
When the player moves from PlayerHome to the Main:
CONDITIONS
CHECK UNIQUE ACTION RUN || idStr: leave_home
CHECK WEATHER STATE || weather: 2 | flag: 0
ACTIONS
UNIQUE ACTION RUN || idStr: leave_home

TRIGGER Procedure 0.0 Step 0.5 Order 7 Repeat 1
------------------------------------------------------------
EVENTS
MISSION BEGIN 1200055
CONDITIONS
Always:
ACTIONS
Set DAY to 0

TRIGGER Procedure 0.0 Step 1.0 Order 1 Repeat 1
------------------------------------------------------------
EVENTS
When the player moves from PlayerHome to the Main:
CONDITIONS
Always:
ACTIONS
AREA TRIGGER CREATE || missionId: 1200055 | id: 20551 | sceneName: Main | flagName: trainrob_trigger | showOnMap: 1 | mapIcon: MissionArea | transId: 80002428
ACTION AREA TRIGGER SET RADIUS || id: 20551 | radius: 20
Justice stands still in Main
Rhok stands still in Main
Ernest stands still in Main
Pembe stands still in Main
Bram stands still in Main
NPC SET CAN INTERACT || npc: 8029 | canInteract: 0
NPC SET CAN INTERACT || npc: 8069 | canInteract: 0
NPC SET CAN INTERACT || npc: 8036 | canInteract: 0
NPC SET CAN INTERACT || npc: 8030 | canInteract: 0
Run mission Cover My Glass
Add behavior MissionAfterRobTrain0 (idName: 20553) to Rhok
(param: -1)
Add behavior MissionAfterRobTrain0 (idName: 20553) to Bram
(param: -1)
Add behavior MissionAfterRobTrain0 (idName: 20553) to Ernest
(param: -1)
Add behavior MissionAfterRobTrain0 (idName: 20553) to Pembe
(param: -1)

TRIGGER Procedure 0.0 Step 1.5 Order 4 Repeat 1
------------------------------------------------------------
EVENTS
When the player moves from PlayerHome to the Main:
CONDITIONS
Always:
ACTIONS
TRAIN SET VISIBLE || set: 0
ACTION CUTSCENE START AUDIO TYPE || id: CG_TRAINROBBER | duration: 0 | audioType: NoTransitionOff
Set global blackboard key robtrain with info 1.
Townsfolk respond to the event:

{{dialogue|Amirah|I read about bandits in books, but I never expected to deal with them in real life. If Logan keeps this up, I fear our lawmen will run out of sympathy sooner rather than later...}}

{{dialogue|Arvio|I never really got to know Logan, but Haru? I wish I knew how he got mixed up in all this...}}

{{dialogue|Burgess|I understand that everyone's different but... I am just constantly amazed by how easy it is for Logan to be breaking so many rules all the time! Any normal person would just be eaten up with guilt...}}

{{dialogue|Catori|Tch, I really hope they nab that train hijacker sooner rather than later... how am I supposed to turn this place into a tourism hotspot with this nutjob on the loose, scarin' away all the customers!?}}

{{dialogue|Cooper|I don't give two hoots what the extraneous details may or may not be! Hijack a train, you're goin' to jail! Stealin' water? You're goin' to jail! Mess with my Yakmel? Jail! ...What are we talkin' about again?}}

{{dialogue|Dan-bi|Urgh, that Logan is such a pain! Why is he doing this? Until I figure this out, I don't know if I can even focus on my work!}}

{{dialogue|Elsie|They say Logan hijacked a train... I can't hardly believe it. I used to know him, he ain't that type of guy!}}

{{dialogue|Grace|I know Logan's type. Brash, bold, likes to show off. Total meat-head. Thinks brute force is the answer to everything. Haru I don't get as much. Always the quiet ones, huh?}}

{{dialogue|Heidi|I don't get it. Logan and I grew up together. He's a bit rough and uncultured, but I never expected him to turn into a criminal. If only his Pa was still around...}}

{{dialogue|Hugo|I was close with Logan's father... I doubt he'd want to see Logan actin' out like this... Boy's a dang fool.}}

{{dialogue|Jasmine|One time I drew a picture for Logan. I never shoulda done that...}}

{{dialogue|Jensen|I checked all the inventory, as well as the passenger list. Nothing is missing! What did Logan and his gang take?! I'm going off the rails here!}}

{{dialogue|Justice|It's a big desert, and there are only two of us in the Civil Corps, three if you're counting Captain. But one of these days, we'll be a step ahead of Logan, and we'll put him away for good. Don't you worry.}}

{{dialogue|Krystal|That Logan really grinds my gears. Next time he tries to pull a stunt like that, our Rocky'd stop him right in tracks, I tell ya! Er, uh... if Rocky was on the train, that is...}}

{{dialogue|Mabel|Yes, yes, I heard what happened with Logan. That boy needs the Light! And that Haru, he needs to learn a thing or two about toxic friendships!}}

{{dialogue|Matilda|That Logan doesn't know when to quit... he's going to hurt himself before all the folks after him even get the chance...}}

{{dialogue|Mi-an|I mean, say what you want about Logan, but you do have to admit that glider stunt was pretty cool!}}

{{dialogue|Miguel|I'm quite sorry you had to be here for one of Logan's bandit attacks... and quite sorry to say there may be more until we're able put that dervish behind bars. Stay strong, Builder.}}

{{dialogue|Mort|I think there's more to Logan's story than meets the eye... Good people don't just change like that unless there's a good reason.}}

{{dialogue|Owen|I can't help but get a bad feeling about the whole train-jacking ordeal... it seems like Logan's getting more and more riled up; seems like only a matter of time he goes and does something he really regrets...}}

{{dialogue|Pen|I personally think Logan is too scared to get anywhere near Sandrock, that's why he pulled this last little stunt. You know. 'Cause of me. One of these days though, ooh! Big ol' fist of justice right to the spine!}}

{{dialogue|Rian|Y'know, I used to help Logan make his furniture. He was pretty chill, asked less, paid more, and never complained about... my process. I guess it doesn't matter how good people are, they can always turn bad. Mondo bummer, homie.}}

{{dialogue|Rocky|What's goin' on with Logan? Is he protestin' buyin' train tickets now or somethin'?}}

{{dialogue|Unsuur|We should have known Logan would be bold enough to show his face around here again. But we don't have enough manpower to post a deputy on every train. This is a dilemma.}}

{{dialogue|Vivi|Well, I don't like that Logan is back and causing mischief, but at least nobody got hurt this time! Gotta always look on the sunny side, dear.}}

{{dialogue|Yan|Truth of the matter is, Logan's good for business! If he breaks something, we fix it! If he terrorizes an area? Well, that just means hazard pay for all, doesn't it?}}

GLOBAL BLACK BOARD REMOVE || key: robtrainbegian
ADD KNOWN NPC || npc: 8011 | showUI: 0
ADD KNOWN NPC || npc: 8012 | showUI: 0

TRIGGER Procedure 0.0 Step 2.0 Order 2 Repeat 1
------------------------------------------------------------
EVENTS
ON AREA TRIGGER INTERACT || order: 0 | npc: 8000 | enter: 0 | id: 20551
CONDITIONS
Always:
ACTIONS
CUTSCENE UI STATE ENTER || 
AREA TRIGGER DELETE || id: 20551
Add behavior CommanderMoveToFlag (idName: 20551) to Player
(param: TargetScene:Main|MoveMode:Run|FlagName:trainrob_player)
Justice stands still in Main
Remove behavior MissionAfterRobTrain0 (idName: 20553) from Rhok
Remove behavior MissionAfterRobTrain0 (idName: 20553) from Bram
Remove behavior MissionAfterRobTrain0 (idName: 20553) from Ernest
Remove behavior MissionAfterRobTrain0 (idName: 20553) from Pembe

TRIGGER Procedure 0.0 Step 3.0 Order 3 Repeat 1
------------------------------------------------------------
EVENTS
ON CAMERA PATH END || order: 0 | id: 20551
CONDITIONS
Always:
ACTIONS
(cId 0) A conversation 1498, 1499, 1500, 1501, 1502 starts:
{{dialogue|Justice|So you're tellin' me you didn't see anything?}}
{{dialogue|Rhok|I saw a fire in that man's eyes... a burning desire for vengeance that sent chills through my very essence...}}
{{dialogue|Justice|Alright, pal. Did you see anything that would hold up in a court of law?}}
{{dialogue|Rhok|Not to... that effect, no, I didn't.}}
{{dialogue|Justice|So let me get this straight: none of y'all saw him take anything? Nobody got robbed?}}
Remove behavior CommanderMoveToFlag (idName: 20551) from Player
PLAYER SET POS ROT FLAG || flagName: trainrob_player | sceneName: Main

TRIGGER Procedure 0.0 Step 4.0 Order 5 Repeat 1
------------------------------------------------------------
EVENTS
(cId: 0) There is a conversation segment (id 1502) that ends:
{{dialogue|Justice|So let me get this straight: none of y'all saw him take anything? Nobody got robbed?}}
CONDITIONS
Always:
ACTIONS
Add behavior MissionLookAtEachOther (idName: 20551) to Rhok
(param: -1)
Add behavior MissionLookAtEachOther (idName: 20551) to Bram
(param: -1)
Add behavior MissionLookAtEachOther (idName: 20551) to Pembe
(param: -1)
Add behavior MissionLookAtEachOther (idName: 20551) to Ernest
(param: -1)

TRIGGER Procedure 0.0 Step 5.0 Order 6 Repeat 1
------------------------------------------------------------
EVENTS
ON ACTOR BEHAVIOUR EVENT || order: 0 | npc: 8069 | behaviourName: MissionLookAtEachOther | eventName: MissionLookAtEachOtherOver
CONDITIONS
Always:
ACTIONS
(cId 1) A conversation 2835, 2836, 2837, 1504 starts:
{{dialogue|Ernest|Excuse me, Captain, sir? Ernest, Atara Times. Would you be able to comment on all the wild allegations surrounding this incident? Who is this "Logan," and what are his motivations? Do you believe he may be in possession of weapons of mass destruction?}}
{{dialogue|Justice|Dang, you don't get out much, do ya pardner? First off, I'm the sheriff 'round these parts. Captain's the cat. Second, I'm the one askin' the questions here, not the other way around!}}
{{dialogue|Justice|Dang reporters, almost made me lose my train of thought... Train... Ah, yeah! The train robbin'. Or lack thereof. Well, we still got him for attempted hijackin', resistin' arrest, unlawful use of firearms... I'll add it to the pile.}}
{{dialogue|Justice|Y'all are free to go. And remember, if any of y'all think of any info you think we can use to catch {{textcolor|red|Logan}}, run on back to the Civil Corps, double time!}}
Justice stops standing still
Justice stands still in Main and looks at Ernest

TRIGGER Procedure 0.0 Step 6.0 Order 8 Repeat 1
------------------------------------------------------------
EVENTS
(cId: 1) There is a conversation segment (id 2835) that ends:
{{dialogue|Ernest|Excuse me, Captain, sir? Ernest, Atara Times. Would you be able to comment on all the wild allegations surrounding this incident? Who is this "Logan," and what are his motivations? Do you believe he may be in possession of weapons of mass destruction?}}
CONDITIONS
Always:
ACTIONS
Remove behavior MissionLookAtEachOther (idName: 20551) from Rhok
Remove behavior MissionLookAtEachOther (idName: 20551) from Bram
Remove behavior MissionLookAtEachOther (idName: 20551) from Ernest
Remove behavior MissionLookAtEachOther (idName: 20551) from Pembe
Justice stops standing still
Justice stands still in Main

TRIGGER Procedure 1.0 Step 0.0 Order 0 Repeat 1
------------------------------------------------------------
EVENTS
(cId 1) After the conversation ends:
CONDITIONS
Always:
ACTIONS
Remove behavior CommanderMoveToFlag (idName: 20551) from Player
Justice stops standing still
Justice stops standing still
Rhok stops standing still
Bram stops standing still
Pembe stops standing still
Ernest stops standing still
Set global blackboard key robtrainjustice with info 1.
Add behavior MissionAfterRobTrain (idName: 20552) to Rhok
(param: -1)
Add behavior MissionAfterRobTrain (idName: 20552) to Bram
(param: -1)
Add behavior MissionAfterRobTrain (idName: 20552) to Pembe
(param: -1)
Add behavior MissionAfterRobTrain (idName: 20552) to Ernest
(param: -1)

TRIGGER Procedure 1.0 Step 2.0 Order 1 Repeat 1
------------------------------------------------------------
EVENTS
At the beginning of the day:
CONDITIONS
Always:
ACTIONS
Remove behavior MissionAfterRobTrain0 (idName: 20553) from Ernest
Ernest stops standing still
Remove behavior MissionAfterRobTrain (idName: 20552) from Ernest
Remove behavior MissionAfterRobTrain (idName: 20552) from Pembe
Remove behavior MissionAfterRobTrain (idName: 20552) from Bram
Remove behavior MissionAfterRobTrain (idName: 20552) from Rhok
NPC LEAVE || npc: 8036
NPC LEAVE || npc: 8030
NPC LEAVE || npc: 8029

TRIGGER Procedure 1.0 Step 3.0 Order 2 Repeat 1
------------------------------------------------------------
EVENTS
At the beginning of the day:
CONDITIONS
Always:
ACTIONS
Set DAY to 1

TRIGGER Procedure 1.0 Step 4.0 Order 3 Repeat 1
------------------------------------------------------------
EVENTS
At the beginning of the day:
CONDITIONS
Check if DAY is == 1
ACTIONS
GLOBAL BLACK BOARD REMOVE || key: robtrain
GLOBAL BLACK BOARD REMOVE || key: robtrainjustice
END MISSION 1200055

TRIGGER Procedure 1.0 Step 5.0 Order 4 Repeat 1
------------------------------------------------------------
EVENTS
ON CUTSCENE CHANGE || order: 0 | name: CG_TRAINROBBER | state: 9
CONDITIONS
Always:
ACTIONS
TRAIN SET VISIBLE || set: 1

TRIGGER Procedure 1.0 Step 6.0 Order 5 Repeat 1
------------------------------------------------------------
EVENTS
On speaking to Rhok
CONDITIONS
Always:
ACTIONS
(cId 0) A conversation 1520 starts:
{{dialogue|Rhok|All I wanted to do was travel and my first day out I'm already running into trainrobbers! Where can I buy a ticket out of this madhouse? Maybe that dapper reporter knows. Gosh he looks familiar. Where have I seen him before...?}}

TRIGGER Procedure 1.0 Step 7.0 Order 6 Repeat 1
------------------------------------------------------------
EVENTS
On speaking to Ernest
CONDITIONS
Always:
ACTIONS
(cId 0) A conversation 1522 starts:
{{dialogue|Ernest|The mysterious bandit located the carriage, but to the surprise of those around, left empty handed. What was his motive? The truth is... Ahem! This will be such fantastic material, I'm feeling the passages flow through my fingers already! This town may be a suitable muse...}}

TRIGGER Procedure 2.0 Step 0.0 Order 1 Repeat 1
------------------------------------------------------------
EVENTS
On speaking to Justice
CONDITIONS
Always:
ACTIONS
(cId 2) A conversation 1505 starts:
{{dialogue|Justice|Hey there, Builder... No doubt you've heard about the little bandit altercation, let me just put your fears to rest: you've got absolutely nothin' to worry about. The Civil Corps is on the case!}}

TRIGGER Procedure 2.0 Step 0.5 Order 0 Repeat 1
------------------------------------------------------------
EVENTS
ON CAMERA PATH STOP END || order: 0 | id: 20551
CONDITIONS
Always:
ACTIONS
CUTSCENE UI STATE EXIT || 

TRIGGER Procedure 2.0 Step 1.0 Order 2 Repeat 1
------------------------------------------------------------
EVENTS
ON ACTOR BEHAVIOUR END || order: 0 | npc: 8030 | idName: 20552 | behaviourName: MissionAfterRobTrain
CONDITIONS
Always:
ACTIONS
NPC SET CAN INTERACT || canInteract: 1 | npc: 8030

TRIGGER Procedure 2.0 Step 2.0 Order 3 Repeat 1
------------------------------------------------------------
EVENTS
ON ACTOR BEHAVIOUR END || order: 0 | npc: 8029 | idName: 20552 | behaviourName: MissionAfterRobTrain
CONDITIONS
Always:
ACTIONS
NPC SET CAN INTERACT || canInteract: 1 | npc: 8029

TRIGGER Procedure 2.0 Step 3.0 Order 4 Repeat 1
------------------------------------------------------------
EVENTS
ON ACTOR BEHAVIOUR END || order: 0 | npc: 8036 | idName: 20552 | behaviourName: MissionAfterRobTrain
CONDITIONS
Always:
ACTIONS
NPC SET CAN INTERACT || canInteract: 1 | npc: 8036

TRIGGER Procedure 2.0 Step 4.0 Order 5 Repeat 1
------------------------------------------------------------
EVENTS
ON ACTOR BEHAVIOUR END || order: 0 | npc: 8069 | idName: 20552 | behaviourName: MissionAfterRobTrain
CONDITIONS
Always:
ACTIONS
NPC SET CAN INTERACT || canInteract: 1 | npc: 8069

TRIGGER Procedure 2.0 Step 6.0 Order 6 Repeat 1
------------------------------------------------------------
EVENTS
When the time is 14:00 (order: 0):
CONDITIONS
Always:
ACTIONS
NPC SET CAN INTERACT || npc: 8029 | canInteract: 1
NPC SET CAN INTERACT || npc: 8030 | canInteract: 1
NPC SET CAN INTERACT || npc: 8036 | canInteract: 1
NPC SET CAN INTERACT || npc: 8069 | canInteract: 1
Justice stops standing still
Rhok stops standing still
Bram stops standing still
Pembe stops standing still
Ernest stops standing still
AREA TRIGGER DELETE || id: 20551

TRIGGER Procedure 3.0 Step 0.0 Order 0 Repeat 1
------------------------------------------------------------
EVENTS
When the player wakes up:
CONDITIONS
CHECK WEATHER STATE || weather: 2 | flag: 0
ACTIONS
(cId 3) A conversation 18354 starts:
{{dialogue|Player|(There seems to be something going on outside...)}}
