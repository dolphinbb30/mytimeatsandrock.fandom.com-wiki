Reading Mission 1200292: Graceful Farewell

<onlyinclude>{{Infobox mission
|name = Graceful Farewell
|image =
|description = 
|type = Main
|time =
|location =
|characters = 
|condition =
|details =
|exp = None
|reputation = None
|gols = None
}}</onlyinclude>

==Overview==
Run conditions from Graceful Farewell:

TRIGGER Procedure 1.0 Step 2.0 Order 2 Repeat 1
------------------------------------------------------------
EVENTS
(cId 1) After the conversation ends:
CONDITIONS
Always:
ACTIONS
DELIVER MISSION 1200291
START MISSION 1200291

TRIGGER Procedure 1.0 Step 3.0 Order 3 Repeat 1
------------------------------------------------------------
EVENTS
ON ACCEPT MISSION 1200291
CONDITIONS
Always:
ACTIONS
Run mission Graceful Farewell
END MISSION 1200291

==Conduct==

TRIGGER Procedure 0.0 Step 0.0 Order 0 Repeat 1
------------------------------------------------------------
EVENTS
MISSION BEGIN 1200292
CONDITIONS
CHECK GLOBAL BLACKBOARD || key: 1200290 | info: 1 | exist: 1
ACTIONS
===Go to Train Station===

{{mission_details
|desc = Head for the Train Station, see Grace off.
|details = Go to Train Station
}}

TRIGGER Procedure 0.0 Step 1.0 Order 1 Repeat 1
------------------------------------------------------------
EVENTS
When the player moves from PlayerHome to the Main:
CONDITIONS
Always:
ACTIONS
Set global blackboard key graceleave with info 1.

TRIGGER Procedure 0.0 Step 2.0 Order 2 Repeat 1
------------------------------------------------------------
EVENTS
When the player moves from PlayerHome to the Main:
CONDITIONS
Always:
ACTIONS
Grace stands still in Main
AREA TRIGGER CREATE || missionId: 1200291 | id: 22911 | flagName: graceleave_trigger1 | sceneName: Main | showOnMap: 1 | mapIcon: MissionArea | transId: 0
ACTION AREA TRIGGER SET RADIUS || id: 22911 | radius: 15

TRIGGER Procedure 1.0 Step 0.0 Order 3 Repeat 1
------------------------------------------------------------
EVENTS
ON AREA TRIGGER INTERACT || order: 0 | npc: 8000 | enter: 0 | id: 22911
CONDITIONS
Always:
ACTIONS
CUTSCENE UI STATE ENTER || 
DELAY MASK SET || maskId: 22911 | delayTime: 0 | durationTime: -2 | changeType: 0 | curveIndex: 0
AREA TRIGGER DELETE || id: 22911

TRIGGER Procedure 1.0 Step 1.0 Order 4 Repeat 1
------------------------------------------------------------
EVENTS
ON DELAY MASK EVENT || order: 0 | maskId: 22911 | eventType: 2
CONDITIONS
Always:
ACTIONS
Grace stops standing still
Grace stands still in Main
PLAYER SET POS ROT FLAG || sceneName: Main | flagName: nialeave_player2
DELAY MASK SET || maskId: 22911 | delayTime: 1 | durationTime: -2 | changeType: 1 | curveIndex: 0

TRIGGER Procedure 1.0 Step 2.0 Order 0 Repeat 1
------------------------------------------------------------
EVENTS
ON DELAY MASK EVENT || order: 0 | eventType: 5 | maskId: 22911
CONDITIONS
Always:
ACTIONS
(cId 0) A conversation 3496_0 starts:
{{dialogue|Grace|Oh, hey ''Player''. What brings you here?}}
{{dialogue|Grace|You know, I actually didn't want you guys to see me off... I even told Logan the wrong time. I'm not good at this kinda stuff.}}
{{dialogue|Grace|But honestly, when I saw you coming, I was really happy. Sigh... sometimes, I wonder if I'm really suitable for this job.}}

*''Why would you say that?''
*''No one else could do your job.''

{{dialogue|Grace|indent=true|answer=Why would you say that?
|I feel like I've changed. I'm not the person I used to be. My training was all about suppressing your emotions, embracing solitude, and putting the mission before anything else. I don't know, I feel kind of distant to all that now.}}

:*''Change is a good thing.''
:*''If you want to stay, just quit!''
:*''Haha, you're just nervous about seeing your boss.''

{{dialogue|Grace|indent=double|answer=Change is a good thing.
|A good thing? I don't know. Maybe for a citizen, but for an agent getting ready for her next assignment...}}
{{dialogue|Grace|indent=double|Wait, I shouldn't unload all of this on you. Sorry.}}

::*''I understand, Grace.''
::*{{flirt}}''I just care because you're important to me.''
::*''(Stay silent)''

{{dialogue|Grace|indent=3|answer=I understand, Grace.
|Thank you.}}
{{dialogue|Grace|indent=3|answer=I just care because you're important to me.
|I know, I feel the same way about you.}}
{{dialogue|Grace|indent=double|answer=If you want to stay, just quit!
|Hahaha, that'd be nice! But I... can't right now. Too much responsibility.}}
{{dialogue|Grace|indent=double|Maybe some time in the future. When my job's done... when that time comes, I think I'd like to come back to Sandrock.}}
{{dialogue|Grace|indent=double|answer=Haha, you're just nervous about seeing your boss.
|Maybe... my boss is pretty intense.}}
{{dialogue|Grace|indent=true|answer=No one else could do your job.
|Haha, maybe. I am pretty good at it. Still, my training was all about suppressing your emotions, embracing solitude, and putting the mission before anything else. I don't know, I feel kind of distant to all that now.}}

:*''Change is a good thing.''
:*''If you want to stay, just quit!''
:*''Haha, you're just nervous about seeing your boss.''

{{dialogue|Grace|indent=double|answer=Change is a good thing.
|A good thing? I don't know. Maybe for a citizen, but for an agent getting ready for her next assignment...}}
{{dialogue|Grace|indent=double|Wait, I shouldn't unload all of this on you. Sorry.}}

::*''I understand, Grace.''
::*{{flirt}}''I just care because you're important to me.''
::*''(Stay silent)''

{{dialogue|Grace|indent=3|answer=I understand, Grace.
|Thank you.}}
{{dialogue|Grace|indent=3|answer=I just care because you're important to me.
|I know, I feel the same way about you.}}
{{dialogue|Grace|indent=double|answer=If you want to stay, just quit!
|Hahaha, that'd be nice! But I... can't right now. Too much responsibility.}}
{{dialogue|Grace|indent=double|Maybe some time in the future. When my job's done... when that time comes, I think I'd like to come back to Sandrock.}}
{{dialogue|Grace|indent=double|answer=Haha, you're just nervous about seeing your boss.
|Maybe... my boss is pretty intense.}}
{{dialogue|Grace|So uh... ''Player'', ever think about the future? How about joining me-}}
The conversation ends.
Remove behavior CommanderMoveToFlag (idName: 22911) from Player

TRIGGER Procedure 1.0 Step 5.0 Order 1 Repeat 1
------------------------------------------------------------
EVENTS
When the time is 12:00 (order: 0):
CONDITIONS
Always:
ACTIONS
ACTION ACTOR START FADE IN || id: 22911 | npc: 8002 | time: 2
STOPWATCH REAL TIME SET || id: 22911 | sec: 2

TRIGGER Procedure 1.0 Step 6.0 Order 2 Repeat 1
------------------------------------------------------------
EVENTS
ON STOPWATCH REAL TIME END || order: 0 | id: 22911
CONDITIONS
Always:
ACTIONS
GLOBAL BLACK BOARD REMOVE || key: brokentrain
GLOBAL BLACK BOARD REMOVE || key: graceleave
GLOBAL BLACK BOARD REMOVE || key: 1200290
ACTION ACTOR END FADE IN || time: 0 | id: 22911
Grace stops standing still
AREA TRIGGER DELETE || id: 22911
NPC LEAVE || npc: 8002
CLOSE NPC MONSTER MISSION || npc: 8002
CLOSE NPC ORDER MISSION || npc: 8002
LOCK NPC ORDER MISSION || npc: 8002
SUBMIT MISSION 1200291
END MISSION 1200292

TRIGGER Procedure 2.0 Step 0.0 Order 1 Repeat 1
------------------------------------------------------------
EVENTS
(cId 0) After the conversation ends:
(cId 0) After the conversation ends:
CONDITIONS
Always:
ACTIONS
Jensen stands still in Main
Jensen stops standing still
Add behavior CommanderMoveToFlagAndAction (idName: 22922) to Jensen
(param: TargetScene:Main|MoveMode:Run|FlagName:graceleave_jensen2)

TRIGGER Procedure 2.0 Step 1.0 Order 0 Repeat 1
------------------------------------------------------------
EVENTS
ON ACTOR BEHAVIOUR EVENT || order: 0 | npc: 8023 | behaviourName: CommanderMoveToFlagAndAction | eventName: MoveToFlagAndActionOver
CONDITIONS
Always:
ACTIONS
(cId 1) A conversation 3505_0 starts:
{{dialogue|Jensen|All passengers for Atara, please board. The train will be leaving shortly.}}
{{dialogue|Grace|Ah... that's me...}}
{{dialogue|Jensen|Ms. Grace. C'mon and hop aboard! You've got an exciting journey ahead of you. Yup, Sandrock to Atara - best track in the Free Cities.}}
{{dialogue|Grace|Thank you Jensen, one last word and I'll get aboard.}}
The conversation ends.

TRIGGER Procedure 2.0 Step 2.0 Order 2 Repeat 1
------------------------------------------------------------
EVENTS
(cId 1) After the conversation ends:
CONDITIONS
Always:
ACTIONS
Remove behavior CommanderMoveToFlagAndAction (idName: 22922) from Jensen
Add behavior CommanderNPCAction (idName: 22923) to Jensen
(param: CMDAction:Talk)

TRIGGER Procedure 2.0 Step 3.0 Order 3 Repeat 1
------------------------------------------------------------
EVENTS
ON DELAY MASK EVENT || order: 0 | eventType: 5 | maskId: 22921
CONDITIONS
CHECK GLOBAL BLACKBOARD || key: 1200290 | info: 1 | exist: 0
ACTIONS
GLOBAL BLACK BOARD REMOVE || key: brokentrain
Jensen stops standing still
Jensen stops standing still
Remove behavior CommanderMoveToFlagAndAction (idName: 22912) from Grace
Remove behavior CommanderMoveToFlagAndAction (idName: 22912) from Grace
CLOSE NPC MONSTER MISSION || npc: 8002
CLOSE NPC ORDER MISSION || npc: 8002
LOCK NPC ORDER MISSION || npc: 8002
CUTSCENE UI STATE EXIT || 
AUTOSAVE TRY || 
END MISSION 1200292

TRIGGER Procedure 3.0 Step 0.0 Order 0 Repeat 1
------------------------------------------------------------
EVENTS
ON ACTOR BEHAVIOUR EVENT || order: 0 | npc: 8023 | behaviourName: CommanderNPCAction | eventName: NPCActionOver
CONDITIONS
Always:
ACTIONS
Remove behavior CommanderNPCAction (idName: 22923) from Jensen
(cId 2) A conversation 11453, 11454 starts:
{{dialogue|Grace|''Player'', I want to give you this. It's a little parting gift. Something to remember me by.}}
{{dialogue|Grace|It's a picture of me during my old training days. The puppy next to me is my old partner, Cookie. He was a real sweet dog...}}
Jensen stops standing still
Add 1 Grace's Photo of Default quality (Notify player)

TRIGGER Procedure 3.0 Step 1.0 Order 1 Repeat 1
------------------------------------------------------------
EVENTS
(cId 2) After the conversation ends:
CONDITIONS
Always:
ACTIONS
{{cutscene|id = 1385}}
A cutscene CG_BYEGRACE (duration: 0.0) starts playing
Grace Gone Home - Grace's friends and I saw her off at the train station as she prepared to depart for Atara.
TRAIN SET VISIBLE || set: 0

TRIGGER Procedure 3.0 Step 2.0 Order 2 Repeat 1
------------------------------------------------------------
EVENTS
ON CUTSCENE CHANGE || order: 0 | name: CG_BYEGRACE | state: 8
CONDITIONS
Always:
ACTIONS
Grace stops standing still
NPC LEAVE || npc: 8002
Logan stands still in Main
Haru stands still in Main
Andy stands still in Main
Owen stands still in Main
Owen stops standing still
Logan stops standing still
Haru stops standing still
Andy stops standing still
Jensen stops standing still
Jensen stops standing still
GLOBAL BLACK BOARD REMOVE || key: graceleave
TRAIN SET VISIBLE || set: 1

TRIGGER Procedure 3.0 Step 3.0 Order 3 Repeat 1
------------------------------------------------------------
EVENTS
ON DELAY MASK EVENT || order: 0 | maskId: 22921 | eventType: 5
CONDITIONS
CHECK GLOBAL BLACKBOARD || key: 1200290 | info: 1 | exist: 1
ACTIONS
GLOBAL BLACK BOARD REMOVE || key: brokentrain
Remove behavior CommanderMoveToFlagAndAction (idName: 22912) from Grace
Remove behavior CommanderMoveToFlagAndAction (idName: 22912) from Grace
GLOBAL BLACK BOARD REMOVE || key: 1200290
CLOSE NPC MONSTER MISSION || npc: 8002
CLOSE NPC ORDER MISSION || npc: 8002
LOCK NPC ORDER MISSION || npc: 8002
CUTSCENE UI STATE EXIT || 
SUBMIT MISSION 1200291
END MISSION 1200292

TRIGGER Procedure 4.0 Step 2.0 Order 1 Repeat 1
------------------------------------------------------------
EVENTS
ON CUTSCENE CHANGE || order: 0 | name: CG_BYEGRACE | state: 8
CONDITIONS
Always:
ACTIONS
DELAY MASK SET || maskId: 22921 | delayTime: 0 | durationTime: 0 | changeType: 0 | curveIndex: 0

TRIGGER Procedure 4.0 Step 3.0 Order 2 Repeat 1
------------------------------------------------------------
EVENTS
ON DELAY MASK EVENT || order: 0 | eventType: 2 | maskId: 22921
CONDITIONS
Always:
ACTIONS
DELAY MASK SET || maskId: 22921 | delayTime: 2 | durationTime: -2 | changeType: 1 | curveIndex: 0
